<!DOCTYPE html>
<html lang="zh-cmn-Hans" xmlns:th="http://www.thymeleaf.org" xmlns:c="http://www.w3.org/1999/html">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
    <title></title>
    <link href="/stylesheets/meAdmin/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <!--[if lt IE 9]>
    <link rel="stylesheet" type="text/css" href="/stylesheets/meAdmin/plugins/jquery-ui/jquery.ui.1.10.2.ie.css"/>
    <![endif]-->
    <link href="/stylesheets/meAdmin/assets/css/main.css" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/meAdmin/assets/css/plugins.css" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/meAdmin/assets/css/responsive.css" rel="stylesheet" type="text/css"/>
    <link href="/stylesheets/meAdmin/assets/css/icons.css" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/meAdmin/assets/css/fontawesome/font-awesome.min.css" rel="stylesheet" >
    <!--[if IE 7]>
    <link href="/stylesheets/meAdmin/assets/css/fontawesome/font-awesome-ie7.min.css" rel="stylesheet">
    <![endif]-->
    <!--[if IE 8]>
    <link href="/stylesheets/meAdmin/assets/css/ie8.css" rel="stylesheet" type="text/css" />
    <![endif]-->
    <!--<link href='http://fonts.useso.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>-->
    <script type="text/javascript" src="/stylesheets/meAdmin/assets/js/libs/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/jquery-ui/jquery-ui-1.10.2.custom.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/assets/js/libs/lodash.compat.min.js"></script>
    <!--[if lt IE 9]>
    <script src="/stylesheets/meAdmin/assets/js/libs/html5shiv.js"></script>
    <![endif]-->
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/touchpunch/jquery.ui.touch-punch.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/event.swipe/jquery.event.move.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/event.swipe/jquery.event.swipe.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/assets/js/libs/breakpoints.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/respond/respond.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/cookie/jquery.cookie.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/slimscroll/jquery.slimscroll.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/slimscroll/jquery.slimscroll.horizontal.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/sparkline/jquery.sparkline.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/daterangepicker/moment.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/daterangepicker/daterangepicker.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/blockui/jquery.blockUI.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/typeahead/typeahead.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/autosize/jquery.autosize.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/inputlimiter/jquery.inputlimiter.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/uniform/jquery.uniform.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/tagsinput/jquery.tagsinput.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/select2/select2.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/fileinput/fileinput.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/duallistbox/jquery.duallistbox.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/bootstrap-inputmask/jquery.inputmask.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/bootstrap-wysihtml5/wysihtml5.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/bootstrap-wysihtml5/bootstrap-wysihtml5.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/bootstrap-multiselect/bootstrap-multiselect.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/bootstrap-switch/bootstrap-switch.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/globalize/globalize.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/globalize/cultures/globalize.culture.de-DE.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/globalize/cultures/globalize.culture.ja-JP.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/datatables/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/datatables/DT_bootstrap.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/My97DatePicker/WdatePicker.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/page/jqPaginator.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/page/myPage.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/bootbox/bootbox.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/assets/js/app.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/assets/js/plugins.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/assets/js/plugins.form-components.js"></script>
    <script>
        $(document).ready(function() {
            App.init();
            Plugins.init();
            FormComponents.init()
        });
    </script>
</head>
<body>
<input type="hidden" name="" id="msg" th:value="${msg}">
<div class="container">
    <div class="crumbs">
        <ul class="breadcrumb">
            <li>
                <i class="icon-home"></i>
                <a th:href="@{/orangeIndex/toDefault}" href="" title="首页">
                    首页
                </a>
            </li>
            <li class="current">
                <a href="javascript:void(0);" title="置顶图管理">
                    置顶图管理
                </a>
            </li>
        </ul>
    </div>
    <div class="row" style="height: 20px;"></div>
    <div class="row">
        <div class="col-md-12">
            <div class="widget box">
                <div class="widget-header">
                    <h4>
                        <i class="icon-search"></i>
                        搜索条件
                    </h4>
                    <div class="toolbar no-padding">
                        <div class="btn-group">
                            <span class="btn btn-xs widget-collapse">
                                <i class="icon-angle-down"></i>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="widget-content">
                    <form class="form-horizontal row-border" th:object="${appTopQuery}" th:action="@{/appTop/list}" th:method="get">
                        <div class="form-group">
                            <div class="col-md-4">
                                <label class="col-md-4 control-label" for="countrycode">
                                    国家：
                                </label>
                                <div class="col-md-8">
                                    <select name="countrycode" id="countrycode" class="select2-select-00 col-md-12 full-width-fix select2-offscreen" tabindex="-1" th:field="*{countryCode}">
                                        <option value="">请选择</option>
                                        <option value="">所有国家</option>
                                        <option th:each="country:${countryList}" th:selected="(${appTopQuery.countryCode == country.get('countryCode')})" th:value="${country.get('countryCode')}" th:text="${country.get('countryCode')}+'&nbsp;'+${country.get('cnName')}"></option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <label class="col-md-4 control-label" for="ctype">
                                    类型：
                                </label>
                                <div class="col-md-8">
                                    <select name="ctype" id="ctype" class="form-control" tabindex="-1" th:field="*{ctype}">
                                        <option value="" selected>请选择</option>
                                        <option th:each="cType:${appTopItypeList}" th:selected="(${appTopQuery.ctype == cType.get('key')})" th:value="${cType.get('key')}" th:text="${cType.get('value')}"></option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <label class="col-md-4 control-label" for="status">
                                    状态：
                                </label>
                                <div class="col-md-8">
                                    <select name="status" id="status" class="form-control" tabindex="-1" th:field="*{status}">
                                        <option value="" selected>请选择</option>
                                        <option value="1" th:selected="(${appTopQuery.status== 1})">正常</option>
                                        <option value="0" th:selected="(${appTopQuery.status== 0})">禁用</option>
                                        <option value="-1" th:selected="(${appTopQuery.status == -1})">删除</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-4">
                                <label class="col-md-4 control-label" for="starttime">
                                    开始日期：
                                </label>
                                <div class="col-md-8">
                                    <input type="text" id="starttime" name="starttime" class="form-control" placeholder="输入开始日期" th:field="*{startTime}" th:value="${appTopQuery.startTime}" onClick="WdatePicker()">
                                </div>
                            </div>
                            <div class="col-md-4">
                                <label class="col-md-4 control-label" for="endtime">
                                    结束日期：
                                </label>
                                <div class="col-md-8">
                                    <input type="text" id="endtime" name="endtime" class="form-control" placeholder="输入结束日期" th:field="*{endTime}" th:value="${appTopQuery.endTime}" onClick="WdatePicker()">
                                </div>
                            </div>
                        </div>
                        <div class="form-actions">
                            <input type="submit" value="搜索" class="btn btn-primary pull-right">
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="widget box">
                <div class="widget-header">
                    <h4>
                        <i class="icon-table"></i>
                        置顶图文章列表
                    </h4>
                </div>
                <div class="widget-content">
                    <table class="table table-striped table-bordered table-checkable table-highlight-head table-no-inner-border table-hover">
                        <thead>
                        <tr>
                            <th>ID</th>
                            <th>国家</th>
                            <th>语言</th>
                            <th>标题</th>
                            <th>类型</th>
                            <th>文章类型</th>
                            <th>图片</th>
                            <th>创建时间</th>
                            <th>发布时间</th>
                            <th>更新时间</th>
                            <th>状态</th>
                            <th>排序</th>
                            <th>操作</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="appTop:${appTopList}">
                            <td th:text="${appTop.get('objectId')}"></td>
                            <td th:text="${appTop.get('countryCnName')}"></td>
                            <td th:text="${appTop.get('languageRemark')}"></td>
                            <td th:text="${appTop.get('articleTitle')}"></td>
                            <td th:text="${appTop.get('itypeStr')}"></td>
                            <td th:text="${appTop.get('articleType')}"></td>
                            <td>
                                <img th:src="${appTop.get('picUrl')}" alt="">
                            </td>
                            <td th:text="${appTop.get('createdAt')}"></td>
                            <td th:text="${appTop.get('createdAt')}"></td>
                            <td th:text="${appTop.get('createdAt')}"></td>
                            <!--<td th:text="${#calendars.format({appTop.get('createdAt')},'yyyy-MM-dd HH:mm'}"></td>
                            <td th:text="${#calendars.format({appTop.get('createdAt')},'yyyy-MM-dd HH:mm'}"></td>
                            <td th:text="${#calendars.format({appTop.get('createdAt')},'yyyy-MM-dd HH:mm'}"></td>-->
                            <td th:text="${appTop.get('cType')}"></td>
                            <td th:text="${appTop.get('cType')}"></td>
                            <td class="align-center">
                                    <span class="btn-group">
                                        <a href="javascript:void(0);" th:href="@{/appTop/toUpdate(objectId=${appTop.get('objectId')})}" th:attr="objectid=${appTop.get('objectId')}" class="btn btn-xs bs-tooltip edit-app-top" title="" data-original-title="修改">
                                            <i class="icon-pencil"></i>
                                        </a>
                                        <a href="javascript:void(0);" th:attr="objectid=${appTop.get('objectId')}" class="btn btn-xs bs-tooltip del-app-top" title="" data-original-title="删除">
                                            <i class="icon-trash"></i>
                                        </a>
                                        <a href="javascript:void(0);" th:attr="objectid=${appTop.get('objectId')}" class="btn btn-xs bs-tooltip ref-app-top" title="" data-original-title="刷新">
                                            <i class="icon-refresh"></i>
                                        </a>
                                      </span>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                    <div class="col-sm-12 text-center">
                        <ul class="pagination" id="pagination">

                        </ul>
                        <ul id="countabs">

                        </ul>
                        <!-- 总条数 -->
                        <input type="hidden" id="PageCount" runat="server" th:value="${pageUtil.recordCount}"/>
                        <!-- 总页数 -->
                        <input type="hidden" id="countindex" runat="server" th:value="(${pageUtil.pagecount}>=1000?1000:${pageUtil.pagecount})"/>
                        <!-- 当前第几页 -->
                        <input type="hidden" id="Pagedq" runat="server" th:value="${pageUtil.currentPage}"/>
                        <!-- 请求的地址 -->
                        <input type="hidden" id="pageUrl" runat="server" th:value="@{/appTop/list}"/>
                        <!-- 请求的参数 -->
                        <input type="hidden" id="pageParameter" runat="server" th:value="${appTopQuery}"/>
                        <!--设置最多显示的页码数 可以手动设置 默认为7-->
                        <input type="hidden" id="visiblePages" runat="server" th:value="10" />
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    $(document).ready(function(){
        $.each($('.select2-select-00'),function(index){
            $(this).select2();
            if($(this).val() == ''){
                $(this).select2().select2('val','');
            }
        });
    });
    if($("#msg").val() != ''){
        bootbox.alert($("#msg").val());
    }
    $('.del-app-top').click(function(e){
        var id = $(this).attr('objectid');
        e.preventDefault();
        var alertBox = bootbox.dialog({
            message: "确认要删除吗?",
            title: "删除",
            buttons: {
                success: {
                    label: "取消",
                    className: "btn-default",
                    callback: function() {
                        alertBox.modal("hide");
                    }
                },
                main: {
                    label: "确认",
                    className: "btn-primary",
                    callback: function() {
                        window.location.href = '../appTop/delete?objectId='+id;
                    }
                }
            }
        });
    });
</script>
</body>
</html>