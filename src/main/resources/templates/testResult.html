<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
    <title>测试结果显示</title>
    <link href="/stylesheets/meAdmin/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <!--[if lt IE 9]>
    <link href="/stylesheets/meAdmin/plugins/jquery-ui/jquery.ui.1.10.2.ie.css" rel="stylesheet" type="text/css"/>
    <![endif]-->
    <link href="/stylesheets/meAdmin/assets/css/main.css" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/meAdmin/assets/css/plugins.css" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/meAdmin/assets/css/responsive.css" rel="stylesheet" type="text/css"/>
    <link href="/stylesheets/meAdmin/assets/css/icons.css" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/meAdmin/assets/css/fontawesome/font-awesome.min.css" rel="stylesheet">
    <!--[if IE 7]>
    <link href="/stylesheets/meAdmin/assets/css/fontawesome/font-awesome-ie7.min.css" rel="stylesheet">
    <![endif]-->
    <!--[if IE 8]>
    <link href="/stylesheets/meAdmin/assets/css/ie8.css" rel="stylesheet" type="text/css" />
    <![endif]-->
    <!--<link href='http://fonts.useso.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>-->
    <script type="text/javascript" src="/stylesheets/meAdmin/assets/js/libs/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/jquery-ui/jquery-ui-1.10.2.custom.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/assets/js/libs/lodash.compat.min.js"></script>
    <!--[if lt IE 9]>
    <script src="/stylesheets/meAdmin/assets/js/libs/html5shiv.js"></script>
    <![endif]-->
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/touchpunch/jquery.ui.touch-punch.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/event.swipe/jquery.event.move.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/event.swipe/jquery.event.swipe.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/assets/js/libs/breakpoints.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/respond/respond.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/cookie/jquery.cookie.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/slimscroll/jquery.slimscroll.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/slimscroll/jquery.slimscroll.horizontal.min.js"></script>
    <!--[if lt IE 9]>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/flot/excanvas.min.js"></script>
    <![endif]-->
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/sparkline/jquery.sparkline.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/flot/jquery.flot.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/flot/jquery.flot.tooltip.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/flot/jquery.flot.resize.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/flot/jquery.flot.time.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/flot/jquery.flot.growraf.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/easy-pie-chart/jquery.easy-pie-chart.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/daterangepicker/moment.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/daterangepicker/daterangepicker.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/blockui/jquery.blockUI.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/fullcalendar/fullcalendar.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/noty/jquery.noty.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/noty/layouts/top.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/noty/themes/default.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/uniform/jquery.uniform.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/select2/select2.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/My97DatePicker/WdatePicker.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/plugins/bootbox/bootbox.min.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/assets/js/app.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/assets/js/plugins.js"></script>
    <script type="text/javascript" src="/stylesheets/meAdmin/assets/js/plugins.form-components.js"></script>
</head>
<body>
<div class="container">
    <div class="row">
        <div class="col-md-12">
            <div class="widget box">
                <div class="widget-content">
                    <form class="form-horizontal row-border" id="dataList">

                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" src="/stylesheets/meAdmin/plugins/base64.js"></script>
<script type="text/javascript">
    function UrlSearch() {
        var name,value;
        var str=location.href;
        var num=str.indexOf("?")
        str=str.substr(num+1);
        var arr=str.split("&");
        for(var i=0;i < arr.length;i++){
            num=arr[i].indexOf("=");
            if(num>0){
                name=arr[i].substring(0,num);
                value=arr[i].substr(num+1);
                this[name]=value;
            }
        }
    }
    var Request=new UrlSearch();
    var flag = Request.flag;
    if(flag == 'grabRule'){
        var dataJsonStr = Request.dataJson;
        $.ajax({
            url: "http://54.219.221.173:80/checkGrabListRule",
            type: "post",
            data: {
                "grabListRuleJSON": dataJsonStr
            },
            success: function (data) {
                console.log(data);
                if(data.success == 1){
                    var articleUrlList = data.articleUrlList;
                    var articleUrlListStr = '';
                    $.each(articleUrlList,function(i,item){
                        articleUrlListStr += item+'\n';
                    });
                    var htmlStr = '<div class="form-group">'
                        +'<label class="col-md-2 control-label">'
                        +'结果：'
                        +'</label>'
                        +'<div class="col-md-10">'
                        +'<textarea rows="3" cols="5" name="textarea" class="form-control">'+articleUrlListStr+'</textarea>'
                        +'</div>'
                        +'</div>';
                    $('#dataList').html(htmlStr);
                }else{
                    alert(data.msg);
                }
            },
            error: function (error) {
                console.log(error);
                alert(error);
            }
        });
    }else if(flag == 'detailRule'){
        var dataJsonStr = Request.dataJson;
        console.log(dataJsonStr);
        $.ajax({
            url: "http://54.219.221.173:80/checkGrabDetailRule",
            type: "post",
            data: {
                "grabDetailRuleJSON": dataJsonStr
            },
            success: function (data) {
                console.log(data);
                if(data.success == 1){
                    var articleJson = data.articleJson;
                    var htmlStr = '<div class="form-group">'
                        +'<label class="col-md-2 control-label">'
                        +'结果：'
                        +'</label>'
                        +'<div class="col-md-10">'
                        +'<textarea rows="3" cols="5" name="textarea" class="form-control">'+articleJson.articleContent+'</textarea>'
                        +'</div>'
                        +'</div>'
                        +'<div class="form-group">'
                        +'<label class="col-md-2 control-label">'
                        +'结果2：'
                        +'</label>'
                        +'<div class="col-md-10">'
                        +'<textarea rows="3" cols="5" name="textarea" class="form-control">'+articleJson.articleContent2+'</textarea>'
                        +'</div>'
                        +'</div>'
                        +'<div class="form-group">'
                        +'<label class="col-md-2 control-label">'
                        +'结果3：'
                        +'</label>'
                        +'<div class="col-md-10">'
                        +'<textarea rows="3" cols="5" name="textarea" class="form-control">'+articleJson.articleContent3+'</textarea>'
                        +'</div>'
                        +'</div>'
                        +'<div class="form-group">'
                        +'<label class="col-md-2 control-label">'
                        +'关键字：'
                        +'</label>'
                        +'<div class="col-md-10">'
                        +'<textarea rows="3" cols="5" name="textarea" class="form-control">'+articleJson.keyword+'</textarea>'
                        +'</div>'
                        +'</div>'
                        +'<div class="form-group">'
                        +'<label class="col-md-2 control-label">'
                        +'作者：'
                        +'</label>'
                        +'<div class="col-md-10">'
                        +'<textarea rows="3" cols="5" name="textarea" class="form-control">'+articleJson.author+'</textarea>'
                        +'</div>'
                        +'</div>'
                        +'<div class="form-group">'
                        +'<label class="col-md-2 control-label">'
                        +'视频：'
                        +'</label>'
                        +'<div class="col-md-10">'
                        +'<textarea rows="3" cols="5" name="textarea" class="form-control">'+articleJson.videoHtml+'</textarea>'
                        +'</div>'
                        +'</div>'
                        +'<div class="form-group">'
                        +'<label class="col-md-2 control-label">'
                        +'描述：'
                        +'</label>'
                        +'<div class="col-md-10">'
                        +'<textarea rows="3" cols="5" name="textarea" class="form-control">'+articleJson.articleDescribe+'</textarea>'
                        +'</div>'
                        +'</div>'
                        +'<div class="form-group">'
                        +'<label class="col-md-2 control-label">'
                        +'标题：'
                        +'</label>'
                        +'<div class="col-md-10">'
                        +'<textarea rows="3" cols="5" name="textarea" class="form-control">'+articleJson.articleTitle+'</textarea>'
                        +'</div>'
                        +'</div>';
                    $('#dataList').html(htmlStr);
                }else{
                    alert(data.msg);
                }
            },
            error: function (error) {
                console.log(error);
                alert(error);
            }
        });
    }
</script>
</body>
</html>